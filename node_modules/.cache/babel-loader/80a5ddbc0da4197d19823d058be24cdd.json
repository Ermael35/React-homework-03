{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React from\"react\";import{useEffect,useState}from\"react\";import styled from'styled-components';import nextId from\"react-id-generator\";import{useDispatch,useSelector}from'react-redux';import{addComment}from'../../redux/modules/comments';import Com from'./Com';import{useParams}from\"react-router-dom\";import{__getComments}from'../../redux/modules/comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comment=function Comment(){var dispatch=useDispatch();// const [addcommen,setAddcommmen] = useState(\"\")\n// const [addname,setAddName] = useState(\"\")\nvar initialState={id:0,post:0,name:\"\",comm:\"\"};var _useParams=useParams(),id=_useParams.id;var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),review=_useState2[0],setReview=_useState2[1];var onChangeHandler=function onChangeHandler(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setReview(_objectSpread(_objectSpread({},review),{},_defineProperty({id:nextId(),post:id},name,value)));};var _useSelector=useSelector(function(state){return state.commen.comments;}),isLoading=_useSelector.isLoading,error=_useSelector.error,reviews=_useSelector.reviews;useEffect(function(){dispatch(__getComments());},[dispatch]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529 \\uC911....\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error.message});}var commentList=reviews.filter(function(comment){return String(comment.post)===id;});return/*#__PURE__*/_jsxs(CommentLayout,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB20C\\uB7EC\\uC11C \\uB313\\uAE00\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsxs(CommentContainer,{children:[/*#__PURE__*/_jsxs(NameContainer,{children:[/*#__PURE__*/_jsx(Name,{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(InputStyle,{type:\"text\",name:\"name\",value:review.name,onChange:onChangeHandler})]}),/*#__PURE__*/_jsxs(NameContainer,{children:[/*#__PURE__*/_jsx(Name,{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(InputStyle,{type:\"text\",name:\"comm\",value:review.comm,onChange:onChangeHandler})]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){dispatch(addComment(review));},children:\"\\uB313\\uAE00 \\uB0A8\\uAE30\\uAE30\"})]}),/*#__PURE__*/_jsx(\"div\",{children:commentList.map(function(commet){console.log(commet);return/*#__PURE__*/_jsx(Com,{ment:commet},commet.id);})})]});};export default Comment;var CommentLayout=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border-top:1px solid #eee;\\n    padding: 30px;\\n\"])));var CommentContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    -webkit-box-align: center;\\n    align-items: center;\\n    -webkit-box-pack: center;\\n    justify-content: space-between;\\n    flex-direction: row;\\n    gap: 12px;\\n    width: 100%;\\n    padding: 0px 50px 0px 0px;\\n    margin-bottom: 30px;\\n\"])));var InputStyle=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    box-sizing: border-box;\\n    height: 46px;\\n    width: 100%;\\n    outline: none;\\n    border-radius: 8px;\\n    padding: 0px 12px;\\n    font-size: 14px;\\n    border: 1px solid rgb(238, 238, 238);\\n\"])));var Button=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    width: 300px;\\n    height: 50px;\\n    border: none;\\n\"])));var NameContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n    width: 400px;\\n\"])));var Name=styled.p(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    width: 100px;\\n\"])));","map":{"version":3,"names":["React","useEffect","useState","styled","nextId","useDispatch","useSelector","addComment","Com","useParams","__getComments","Comment","dispatch","initialState","id","post","name","comm","review","setReview","onChangeHandler","event","target","value","state","commen","comments","isLoading","error","reviews","message","commentList","filter","comment","String","map","commet","console","log","CommentLayout","div","CommentContainer","InputStyle","input","Button","button","NameContainer","Name","p"],"sources":["/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/src/components/comment/Comment.jsx"],"sourcesContent":["import React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport styled from 'styled-components'\nimport nextId from \"react-id-generator\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport {addComment} from '../../redux/modules/comments'\nimport Com from './Com'\nimport {useParams} from \"react-router-dom\"\nimport { __getComments } from '../../redux/modules/comments';\nconst Comment = () => {\n    const dispatch = useDispatch();\n    // const [addcommen,setAddcommmen] = useState(\"\")\n    // const [addname,setAddName] = useState(\"\")\n    const initialState = {\n          id:0,\n          post:0,\n          name:\"\",\n          comm:\"\"  \n      };\n      let {id} = useParams();\n      const [review,setReview] = useState(initialState)\n      \n    const onChangeHandler = (event) => {\n        const {name, value} = event.target;\n        setReview({...review,id:nextId(),post: id, [name]:value})\n    }\n    const { isLoading, error, reviews} = useSelector((state) => state.commen.comments);\n    useEffect(() => {\n        dispatch(__getComments());\n    }, [dispatch]);\n    if (isLoading) {\n        return <div>로딩 중....</div>;\n    }\n\n    if (error) {\n        return <div>{error.message}</div>;\n    }\n    let commentList = reviews.filter((comment)=>{\n        return String(comment.post) === id;\n        \n    })\n    \n    \n  return (\n    <CommentLayout>\n        <h1>눌러서 댓글보기</h1>\n        <CommentContainer>\n            <NameContainer>\n            <Name>작성자</Name>\n            <InputStyle type=\"text\" name='name' value={review.name} onChange={onChangeHandler}/>\n            </NameContainer>\n            <NameContainer>\n            <Name>내용</Name>\n            <InputStyle type=\"text\" name='comm' value={review.comm} onChange = {onChangeHandler}/>\n            </NameContainer>\n            <Button onClick={()=>{\n                dispatch(addComment(review))\n            }}>댓글 남기기</Button>\n        </CommentContainer>\n        <div>{commentList.map((commet)=>{\n            console.log(commet)\n            return(\n               <Com key={commet.id} ment ={commet}/>\n            )\n        })} \n        </div>\n    </CommentLayout>\n  )\n}\n\nexport default Comment\n\nconst CommentLayout = styled.div`\n    border-top:1px solid #eee;\n    padding: 30px;\n`\nconst CommentContainer = styled.div`\n    display: flex;\n    -webkit-box-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    justify-content: space-between;\n    flex-direction: row;\n    gap: 12px;\n    width: 100%;\n    padding: 0px 50px 0px 0px;\n    margin-bottom: 30px;\n`\nconst InputStyle = styled.input`\n    box-sizing: border-box;\n    height: 46px;\n    width: 100%;\n    outline: none;\n    border-radius: 8px;\n    padding: 0px 12px;\n    font-size: 14px;\n    border: 1px solid rgb(238, 238, 238);\n`\nconst Button = styled.button`\n    width: 300px;\n    height: 50px;\n    border: none;\n`\nconst NameContainer = styled.div`\n    display: flex;\n    width: 400px;\n`\nconst Name = styled.p`\n    width: 100px;\n`"],"mappings":"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"},"metadata":{},"sourceType":"module"}