{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nexport const __getComment = createAsyncThunk(\"comments/getComments\", async (payload, thunkAPI) => {\n  try {\n    const data = await axios.get(\"http:localhost:3001/comments\");\n    console.log(data);\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState: {\n    comments: [],\n    isLoading: false,\n    error: null\n  },\n  reducers: {\n    addComment: (state, action) => {\n      state.comments.push(action.payload);\n      axios.post(\"http://localhost:3001/comments\", action.payload);\n    },\n    deleteComment: (state, action) => {\n      let index = state.comments.findIndex(comment => comment.id === action.payload);\n      state.comments.slice(index, 1);\n      axios.delete(`http://localhost:3001/comments/${action.payload}`);\n    },\n    updateComment: (state, action) => {\n      let indexz = state.comments.findIndex(comment => comment.id === action.payload.id);\n      state.comments.slice(indexz, 1, action.payload);\n      axios.patch(`http://localhost:3001/comments/${action.payload}`);\n    }\n  }\n});\nexport const {\n  addComment,\n  deleteComment,\n  updateComment\n} = commen.actions;\nexport default commen;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","__getComment","payload","thunkAPI","data","get","console","log","error","commen","name","initialState","comments","isLoading","reducers","addComment","state","action","push","post","deleteComment","index","findIndex","comment","id","slice","delete","updateComment","indexz","patch","actions"],"sources":["/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/src/Redux/modules/commentSlice.js"],"sourcesContent":["import {createAsyncThunk,createSlice } from \"@reduxjs/toolkit\";\nimport axios from 'axios'\n\nexport const __getComment= createAsyncThunk(\n  \"comments/getComments\",\n  async (payload, thunkAPI) => {\n    try {\n      const data = await axios.get(\"http:localhost:3001/comments\");\n      console.log(data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState: {\n    comments: [],\n    isLoading: false,\n    error: null,\n  },\n  reducers: {\n    addComment: (state, action) => {\n      state.comments.push(action.payload)\n      axios.post(\"http://localhost:3001/comments\", action.payload);\n    },\n    deleteComment: (state, action) =>{\n      let index = state.comments.findIndex(comment=>comment.id === action.payload);\n                    state.comments.slice(index,1);\n    axios.delete(`http://localhost:3001/comments/${action.payload}`);  \n    },\n    updateComment: (state, action) => {\n      let indexz = state.comments.findIndex(comment=>comment.id === action.payload.id);\n                    state.comments.slice(indexz,1,action.payload)\n                    axios.patch(`http://localhost:3001/comments/${action.payload}`);\n    }\n    \n  },\n  \n});\n\n\nexport const { addComment ,deleteComment, updateComment} = commen.actions;\nexport default commen;"],"mappings":"AAAA,SAAQA,gBAAR,EAAyBC,WAAzB,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,YAAY,GAAEH,gBAAgB,CACzC,sBADyC,EAEzC,OAAOI,OAAP,EAAgBC,QAAhB,KAA6B;EAC3B,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAU,8BAAV,CAAnB;IACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;EACD,CAHD,CAGE,OAAOI,KAAP,EAAc;IACdF,OAAO,CAACC,GAAR,CAAYC,KAAZ;EACD;AACF,CATwC,CAApC;AAWP,OAAO,MAAMC,MAAM,GAAGV,WAAW,CAAC;EAChCW,IAAI,EAAE,QAD0B;EAEhCC,YAAY,EAAE;IACZC,QAAQ,EAAE,EADE;IAEZC,SAAS,EAAE,KAFC;IAGZL,KAAK,EAAE;EAHK,CAFkB;EAOhCM,QAAQ,EAAE;IACRC,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC7BD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBD,MAAM,CAACf,OAA3B;MACAF,KAAK,CAACmB,IAAN,CAAW,gCAAX,EAA6CF,MAAM,CAACf,OAApD;IACD,CAJO;IAKRkB,aAAa,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAkB;MAC/B,IAAII,KAAK,GAAGL,KAAK,CAACJ,QAAN,CAAeU,SAAf,CAAyBC,OAAO,IAAEA,OAAO,CAACC,EAAR,KAAeP,MAAM,CAACf,OAAxD,CAAZ;MACcc,KAAK,CAACJ,QAAN,CAAea,KAAf,CAAqBJ,KAArB,EAA2B,CAA3B;MAChBrB,KAAK,CAAC0B,MAAN,CAAc,kCAAiCT,MAAM,CAACf,OAAQ,EAA9D;IACC,CATO;IAURyB,aAAa,EAAE,CAACX,KAAD,EAAQC,MAAR,KAAmB;MAChC,IAAIW,MAAM,GAAGZ,KAAK,CAACJ,QAAN,CAAeU,SAAf,CAAyBC,OAAO,IAAEA,OAAO,CAACC,EAAR,KAAeP,MAAM,CAACf,OAAP,CAAesB,EAAhE,CAAb;MACcR,KAAK,CAACJ,QAAN,CAAea,KAAf,CAAqBG,MAArB,EAA4B,CAA5B,EAA8BX,MAAM,CAACf,OAArC;MACAF,KAAK,CAAC6B,KAAN,CAAa,kCAAiCZ,MAAM,CAACf,OAAQ,EAA7D;IACf;EAdO;AAPsB,CAAD,CAA1B;AA4BP,OAAO,MAAM;EAAEa,UAAF;EAAcK,aAAd;EAA6BO;AAA7B,IAA8ClB,MAAM,CAACqB,OAA3D;AACP,eAAerB,MAAf"},"metadata":{},"sourceType":"module"}