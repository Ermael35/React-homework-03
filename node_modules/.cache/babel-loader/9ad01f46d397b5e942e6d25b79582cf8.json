{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const __getComments = createAsyncThunk(\"comments/getComments\", async (payload, thunkAPI) => {\n  try {\n    const data = await axios.get(\"http://localhost:3001/comments\");\n    return thunkAPI.fulfillWithValue(data.data);\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error);\n  }\n});\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState: {\n    comments: [],\n    isLoading: false,\n    error: null\n  },\n  reducers: {\n    addComment(state, action) {\n      state.comments.push(action.payload);\n      axios.post(\"http://localhost:3001/comments\", action.payload);\n    },\n\n    deleteComment(state, action) {\n      let index = state.comments.findIndex(comment => comment.id === action.payload);\n      state.comments.splice(index, 1);\n      axios.delete(`http://localhost:3001/comments/${action.payload}`);\n    },\n\n    updateComment(state, action) {\n      let index = state.comments.findIndex(post => post.id === action.payload.id);\n      state.comments.splice(index, 1, action.payload);\n      axios.patch(`http://localhost:3001/comments/${action.payload.id}`, action.payload);\n    }\n\n  }\n});\nexport const {\n  addComment,\n  deleteComment,\n  updateComment\n} = commen.actions;\nexport default commen;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","__getComments","payload","thunkAPI","data","get","fulfillWithValue","error","rejectWithValue","commen","name","initialState","comments","isLoading","reducers","addComment","state","action","push","post","deleteComment","index","findIndex","comment","id","splice","delete","updateComment","patch","actions"],"sources":["/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/src/redux/modules/comments.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n\nexport const __getComments = createAsyncThunk(\n  \"comments/getComments\",\n  async (payload, thunkAPI) => {\n      try {\n          const data =  await axios.get(\"http://localhost:3001/comments\");\n          return thunkAPI.fulfillWithValue(data.data);\n        } catch (error) {\n          return thunkAPI.rejectWithValue(error);\n        }\n  }\n);\n\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState: {\n    comments: [],\n    isLoading: false,\n        error: null,\n  },\n  reducers: {\n    addComment (state, action)  {\n      state.comments.push(action.payload)\n      axios.post(\"http://localhost:3001/comments\",action.payload );\n    },\n    deleteComment (state, action) {\n      let index = state.comments.findIndex(comment=>comment.id === action.payload);\n      state.comments.splice(index,1);\n      axios.delete(`http://localhost:3001/comments/${action.payload}`);\n    },\n    updateComment(state, action) {\n      let index = state.comments.findIndex(post=>post.id === action.payload.id);\n                    state.comments.splice(index,1,action.payload)\n    axios.patch(`http://localhost:3001/comments/${action.payload.id}`, action.payload);\n    }\n    \n  },\n  \n});\n\n\nexport const { addComment ,deleteComment, updateComment} = commen.actions;\nexport default commen;"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,OAAO,MAAMC,aAAa,GAAGH,gBAAgB,CAC3C,sBAD2C,EAE3C,OAAOI,OAAP,EAAgBC,QAAhB,KAA6B;EACzB,IAAI;IACA,MAAMC,IAAI,GAAI,MAAMJ,KAAK,CAACK,GAAN,CAAU,gCAAV,CAApB;IACA,OAAOF,QAAQ,CAACG,gBAAT,CAA0BF,IAAI,CAACA,IAA/B,CAAP;EACD,CAHH,CAGI,OAAOG,KAAP,EAAc;IACd,OAAOJ,QAAQ,CAACK,eAAT,CAAyBD,KAAzB,CAAP;EACD;AACN,CAT0C,CAAtC;AAYP,OAAO,MAAME,MAAM,GAAGV,WAAW,CAAC;EAChCW,IAAI,EAAE,QAD0B;EAEhCC,YAAY,EAAE;IACZC,QAAQ,EAAE,EADE;IAEZC,SAAS,EAAE,KAFC;IAGRN,KAAK,EAAE;EAHC,CAFkB;EAOhCO,QAAQ,EAAE;IACRC,UAAU,CAAEC,KAAF,EAASC,MAAT,EAAkB;MAC1BD,KAAK,CAACJ,QAAN,CAAeM,IAAf,CAAoBD,MAAM,CAACf,OAA3B;MACAF,KAAK,CAACmB,IAAN,CAAW,gCAAX,EAA4CF,MAAM,CAACf,OAAnD;IACD,CAJO;;IAKRkB,aAAa,CAAEJ,KAAF,EAASC,MAAT,EAAiB;MAC5B,IAAII,KAAK,GAAGL,KAAK,CAACJ,QAAN,CAAeU,SAAf,CAAyBC,OAAO,IAAEA,OAAO,CAACC,EAAR,KAAeP,MAAM,CAACf,OAAxD,CAAZ;MACAc,KAAK,CAACJ,QAAN,CAAea,MAAf,CAAsBJ,KAAtB,EAA4B,CAA5B;MACArB,KAAK,CAAC0B,MAAN,CAAc,kCAAiCT,MAAM,CAACf,OAAQ,EAA9D;IACD,CATO;;IAURyB,aAAa,CAACX,KAAD,EAAQC,MAAR,EAAgB;MAC3B,IAAII,KAAK,GAAGL,KAAK,CAACJ,QAAN,CAAeU,SAAf,CAAyBH,IAAI,IAAEA,IAAI,CAACK,EAAL,KAAYP,MAAM,CAACf,OAAP,CAAesB,EAA1D,CAAZ;MACcR,KAAK,CAACJ,QAAN,CAAea,MAAf,CAAsBJ,KAAtB,EAA4B,CAA5B,EAA8BJ,MAAM,CAACf,OAArC;MAChBF,KAAK,CAAC4B,KAAN,CAAa,kCAAiCX,MAAM,CAACf,OAAP,CAAesB,EAAG,EAAhE,EAAmEP,MAAM,CAACf,OAA1E;IACC;;EAdO;AAPsB,CAAD,CAA1B;AA4BP,OAAO,MAAM;EAAEa,UAAF;EAAcK,aAAd;EAA6BO;AAA7B,IAA8ClB,MAAM,CAACoB,OAA3D;AACP,eAAepB,MAAf"},"metadata":{},"sourceType":"module"}