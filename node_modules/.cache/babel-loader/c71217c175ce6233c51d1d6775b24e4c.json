{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const __deleteComment = createAsyncThunk(\"DELETE_COMMENT\", async (arg, thunkAPI) => {\n  try {\n    await axios.delete(\"http://localhost:3001/comments\");\n    return thunkAPI.fulfillWithValue(arg);\n  } catch (e) {\n    return thunkAPI.rejectWithValue(e.code);\n  }\n});\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState: {\n    comments: [{\n      id: 0,\n      name: '',\n      comm: ''\n    }]\n  },\n  reducers: {\n    addComment: (state, action) => {\n      state.comments.push(action.payload);\n      axios.post(\"http://localhost:3001/comments\", action.payload);\n    },\n    deleteComment: (state, action) => {\n      let index = state.comments.findIndex(comment => comment.id === action.payload);\n      state.comments.slice(index, 1);\n      axios.delete(`\"http://localhost:3001/comments\", ${action.payload}`);\n    },\n    updateComment: (state, action) => {\n      let indexz = state.comments.findIndex(comment => comment.id === action.payload.id);\n      state.comments.slice(indexz, 1, action.payload);\n      axios.patch(`\"http://localhost:3001/comments\", ${action.payload}`);\n    }\n  }\n});\nexport const {\n  addComment,\n  deleteComment,\n  updateComment\n} = commen.actions;\nexport default commen;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","__deleteComment","arg","thunkAPI","delete","fulfillWithValue","e","rejectWithValue","code","commen","name","initialState","comments","id","comm","reducers","addComment","state","action","push","payload","post","deleteComment","index","findIndex","comment","slice","updateComment","indexz","patch","actions"],"sources":["/Users/lenkokukyojulo/Desktop/sparta_react/com/React-homework-03/src/Redux/modules/commentSlice.js"],"sourcesContent":["\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const __deleteComment = createAsyncThunk(\n  \"DELETE_COMMENT\",\n  async (arg, thunkAPI) => {\n    try {\n      await axios.delete(\"http://localhost:3001/comments\");\n      return thunkAPI.fulfillWithValue(arg);\n    } catch (e) {\n      return thunkAPI.rejectWithValue(e.code);\n    }\n  }\n);\n\nexport const commen = createSlice({\n  name: \"commen\",\n  initialState:{\n    comments:[{\n    id:0,\n    name:'',\n    comm:''\n  }\n \n  ]},\n  reducers: {\n    addComment: (state, action) => {\n      state.comments.push(action.payload)\n      axios.post(\"http://localhost:3001/comments\", action.payload);\n    },\n    deleteComment: (state, action) =>{\n      let index = state.comments.findIndex(comment=>comment.id === action.payload);\n                    state.comments.slice(index,1);\n    axios.delete(`\"http://localhost:3001/comments\", ${action.payload}`);  \n    },\n    updateComment: (state, action) => {\n      let indexz = state.comments.findIndex(comment=>comment.id === action.payload.id);\n                    state.comments.slice(indexz,1,action.payload)\n                    axios.patch(`\"http://localhost:3001/comments\", ${action.payload}`);\n    }\n    \n  },\n  \n});\n\n\nexport const { addComment ,deleteComment, updateComment} = commen.actions;\nexport default commen;"],"mappings":"AACA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAGH,gBAAgB,CAC7C,gBAD6C,EAE7C,OAAOI,GAAP,EAAYC,QAAZ,KAAyB;EACvB,IAAI;IACF,MAAMH,KAAK,CAACI,MAAN,CAAa,gCAAb,CAAN;IACA,OAAOD,QAAQ,CAACE,gBAAT,CAA0BH,GAA1B,CAAP;EACD,CAHD,CAGE,OAAOI,CAAP,EAAU;IACV,OAAOH,QAAQ,CAACI,eAAT,CAAyBD,CAAC,CAACE,IAA3B,CAAP;EACD;AACF,CAT4C,CAAxC;AAYP,OAAO,MAAMC,MAAM,GAAGV,WAAW,CAAC;EAChCW,IAAI,EAAE,QAD0B;EAEhCC,YAAY,EAAC;IACXC,QAAQ,EAAC,CAAC;MACVC,EAAE,EAAC,CADO;MAEVH,IAAI,EAAC,EAFK;MAGVI,IAAI,EAAC;IAHK,CAAD;EADE,CAFmB;EAUhCC,QAAQ,EAAE;IACRC,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC7BD,KAAK,CAACL,QAAN,CAAeO,IAAf,CAAoBD,MAAM,CAACE,OAA3B;MACApB,KAAK,CAACqB,IAAN,CAAW,gCAAX,EAA6CH,MAAM,CAACE,OAApD;IACD,CAJO;IAKRE,aAAa,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAkB;MAC/B,IAAIK,KAAK,GAAGN,KAAK,CAACL,QAAN,CAAeY,SAAf,CAAyBC,OAAO,IAAEA,OAAO,CAACZ,EAAR,KAAeK,MAAM,CAACE,OAAxD,CAAZ;MACcH,KAAK,CAACL,QAAN,CAAec,KAAf,CAAqBH,KAArB,EAA2B,CAA3B;MAChBvB,KAAK,CAACI,MAAN,CAAc,qCAAoCc,MAAM,CAACE,OAAQ,EAAjE;IACC,CATO;IAURO,aAAa,EAAE,CAACV,KAAD,EAAQC,MAAR,KAAmB;MAChC,IAAIU,MAAM,GAAGX,KAAK,CAACL,QAAN,CAAeY,SAAf,CAAyBC,OAAO,IAAEA,OAAO,CAACZ,EAAR,KAAeK,MAAM,CAACE,OAAP,CAAeP,EAAhE,CAAb;MACcI,KAAK,CAACL,QAAN,CAAec,KAAf,CAAqBE,MAArB,EAA4B,CAA5B,EAA8BV,MAAM,CAACE,OAArC;MACApB,KAAK,CAAC6B,KAAN,CAAa,qCAAoCX,MAAM,CAACE,OAAQ,EAAhE;IACf;EAdO;AAVsB,CAAD,CAA1B;AA+BP,OAAO,MAAM;EAAEJ,UAAF;EAAcM,aAAd;EAA6BK;AAA7B,IAA8ClB,MAAM,CAACqB,OAA3D;AACP,eAAerB,MAAf"},"metadata":{},"sourceType":"module"}